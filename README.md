# Тестовое задание для QA стажировки

В этом репозитории содержится решение тестового задания по автоматизации тестирования API микросервиса объявлений.

## Структура проекта

*   **`TESTCASES.md`** - Описание тест-кейсов (позитивные, негативные, граничные значения, безопасность).
*   **`avito.py`** - Скрипт с автоматизированными тестами (Python + pytest + requests).
*   **`BUGS.md`** - Отчет о найденных багах (Bug Report) с шагами воспроизведения, ожидаемым и фактическим результатом.
*   **`README.md`** - Инструкция по запуску и описанию проекта.
*   **`Task_1.md`** - Решение 1 задачи.

## Технологический стек

*   **Язык:** Python 3
*   **Фреймворк:** pytest
*   **HTTP-клиент:** requests

## Инструкция по установке и запуску

### 1. Предварительные требования
Убедитесь, что у вас установлен Python (версия 3.9 или выше).

### 2. Установка зависимостей
Рекомендуется использовать виртуальное окружение.

**Windows:**
```bash
python -m venv venv
.\venv\Scripts\activate
pip install pytest requests
```

**macOS / Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
pip install pytest requests
```

### 3. Запуск тестов
Для запуска автотестов выполните команду в терминале:

```bash
pytest -v avito.py
```

### 4. Интерпретация результатов

В ходе тестирования были обнаружены критические баги API (подробности в `BUGS.md`).
Чтобы обеспечить успешное прохождение CI/CD пайплайна, тесты, падающие из-за багов на бэкенде, помечены декоратором `@pytest.mark.xfail`.

Результат выполнения команды будет выглядеть так:
*   **PASSED** (зеленый) - функционал работает корректно.
*   **XFAIL** (желтый) - тест упал, как и ожидалось (из-за известного бага). **Это считается успешным прохождением теста.**

Пример вывода:
```text
avito.py::test_create_extra_fields PASSED                                [100%]

======================== 16 passed, 6 xfailed in 2.35s ========================
```

## Найденные баги

В процессе тестирования выявлено 6 багов, включая критические уязвимости и нарушение контракта API. Полный отчет находится в файле BUGS.md.

Краткий список:
1.  **BUG-01:** Невалидный формат даты `createdAt` (дубль таймзоны).
2.  **BUG-02:** Неверная схема ошибки 404 (объект вместо строки).
3.  **BUG-03:** Уязвимость: возможность накрутки статистики (spoofing).
4.  **BUG-04:** Метод `POST` возвращает статусное сообщение вместо JSON-объекта.
5.  **BUG-05:** Отсутствует заголовок `Allow` при 405 ошибке.
6.  **BUG-06:** Возможность создания товара с пустым именем.
